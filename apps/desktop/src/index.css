@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Inter:wght@400;500;600&display=swap') layer(base);

@import 'tailwindcss';

@plugin 'tailwindcss-animate';

@custom-variant dark (&:is(.dark *));

@utility container {
  margin-inline: auto;
  padding-inline: 2rem;

  @media (width >=--theme(--breakpoint-sm)) {
    max-width: none;
  }

  @media (width >=1400px) {
    max-width: 1400px;
  }
}

@utility scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;

  &::-webkit-scrollbar {
    display: none;
  }
}

@theme {
  --font-sans: var(--font-sans);
  --font-mono: var(--font-mono);

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-warning: hsl(var(--warning));
  --color-warning-foreground: hsl(var(--warning-foreground));

  --color-success: hsl(var(--success));
  --color-success-foreground: hsl(var(--success-foreground));

  --color-sidebar: hsl(var(--sidebar-background));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));

  --color-table-header: hsl(var(--table-header));
  --color-table-row-hover: hsl(var(--table-row-hover));
  --color-table-row-selected: hsl(var(--table-row-selected));
  --color-table-border: hsl(var(--table-border));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }

    to {
      height: var(--radix-accordion-content-height);
    }
  }

  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }

    to {
      height: 0;
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@utility scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--muted)) transparent;

  &::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted));
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground));
  }
}

@layer base {
  :root {
    --font-sans: 'Inter', system-ui, sans-serif;
    --font-mono: 'JetBrains Mono', monospace;

    --background: 0 0% 6.7%;
    --foreground: 0 0% 95%;

    --card: 0 0% 8%;
    --card-foreground: 0 0% 95%;

    --popover: 0 0% 10%;
    --popover-foreground: 0 0% 95%;

    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;

    --secondary: 0 0% 16%;
    --secondary-foreground: 0 0% 82%;

    --muted: 0 0% 19%;
    --muted-foreground: 0 0% 55%;

    --accent: 0 0% 16%;
    --accent-foreground: 0 0% 98%;

    --destructive: 355 24% 21%;
    --destructive-foreground: 355 98% 75%;

    --border: 0 0% 19%;
    --input: 0 0% 19%;
    --ring: 0 0% 83%;

    --radius: 0.375rem;

    /* Drizzle-style sidebar colors - Mono override */
    --sidebar-background: 0 0% 6.7%;
    --sidebar-foreground: 0 0% 82%;
    --sidebar-foreground-muted: 0 0% 55%;
    --sidebar-primary: 0 0% 98%;
    --sidebar-primary-foreground: 0 0% 9%;
    --sidebar-accent: 0 0% 12%;
    --sidebar-accent-foreground: 0 0% 95%;
    --sidebar-border: 0 0% 19%;
    --sidebar-ring: 0 0% 83%;

    --table-header: 0 0% 8%;
    --table-row-hover: 0 0% 12%;
    --table-row-selected: 0 0% 16%;
    --table-border: 0 0% 19%;

    --warning: 45 100% 50%;
    --warning-foreground: 0 0% 6.7%;

    --success: 0 0% 83%;
    --success-foreground: 0 0% 9%;
  }

  .light {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;

    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;

    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;

    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;

    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;

    --accent: 0 0% 90%;
    --accent-foreground: 0 0% 9%;

    --destructive: 355 24% 21%;
    --destructive-foreground: 355 98% 75%;

    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 9%;

    /* Drizzle-style sidebar colors - light override */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 0 0% 9%;
    --sidebar-foreground-muted: 0 0% 45.1%;
    --sidebar-primary: 0 0% 9%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 0 0% 92%;
    --sidebar-accent-foreground: 0 0% 9%;
    --sidebar-border: 0 0% 89.8%;
    --sidebar-ring: 0 0% 9%;

    --table-header: 0 0% 96.1%;
    --table-row-hover: 0 0% 94%;
    --table-row-selected: 0 0% 90%;
    --table-border: 0 0% 89.8%;

    --warning: 45 100% 45%;
    --warning-foreground: 0 0% 9%;

    --success: 0 0% 9%;
    --success-foreground: 0 0% 98%;
  }

  .midnight {
    --background: 226 25% 10%;
    --foreground: 226 25% 98%;

    --card: 226 25% 12%;
    --card-foreground: 226 25% 98%;

    --popover: 226 25% 12%;
    --popover-foreground: 226 25% 98%;

    --primary: 244 75% 65%;
    --primary-foreground: 226 25% 10%;

    --secondary: 226 25% 20%;
    --secondary-foreground: 226 25% 98%;

    --muted: 226 25% 20%;
    --muted-foreground: 226 15% 65%;

    --accent: 226 25% 20%;
    --accent-foreground: 226 25% 98%;

    --destructive: 0 62% 30%;
    --destructive-foreground: 226 25% 98%;

    --border: 226 25% 20%;
    --input: 226 25% 20%;
    --ring: 244 75% 65%;

    --sidebar-background: 226 25% 9%;
    --sidebar-foreground: 226 25% 98%;
    --sidebar-foreground-muted: 226 15% 65%;
    --sidebar-primary: 244 75% 65%;
    --sidebar-primary-foreground: 226 25% 10%;
    --sidebar-accent: 226 25% 20%;
    --sidebar-accent-foreground: 226 25% 98%;
    --sidebar-border: 226 25% 20%;
    --sidebar-ring: 244 75% 65%;

    --table-header: 226 25% 13%;
    --table-row-hover: 226 25% 16%;
    --table-row-selected: 226 25% 20%;
    --table-border: 226 25% 20%;
  }

  .forest {
    --background: 150 20% 8%;
    --foreground: 150 20% 95%;

    --card: 150 20% 10%;
    --card-foreground: 150 20% 95%;

    --popover: 150 20% 10%;
    --popover-foreground: 150 20% 95%;

    --primary: 142 70% 50%;
    --primary-foreground: 150 20% 5%;

    --secondary: 150 20% 16%;
    --secondary-foreground: 150 20% 95%;

    --muted: 150 20% 16%;
    --muted-foreground: 150 10% 65%;

    --accent: 150 20% 16%;
    --accent-foreground: 150 20% 95%;

    --destructive: 0 62% 30%;
    --destructive-foreground: 150 20% 95%;

    --border: 150 20% 16%;
    --input: 150 20% 16%;
    --ring: 142 70% 50%;

    --sidebar-background: 150 25% 7%;
    --sidebar-foreground: 150 20% 95%;
    --sidebar-foreground-muted: 150 10% 65%;
    --sidebar-primary: 142 70% 50%;
    --sidebar-primary-foreground: 150 20% 5%;
    --sidebar-accent: 150 20% 16%;
    --sidebar-accent-foreground: 150 20% 95%;
    --sidebar-border: 150 20% 16%;
    --sidebar-ring: 142 70% 50%;

    --table-header: 150 20% 11%;
    --table-row-hover: 150 20% 14%;
    --table-row-selected: 150 20% 18%;
    --table-border: 150 20% 16%;
  }

  .claude {
    --background: 32 30% 96%;
    /* Warm Bisque/Beige */
    --foreground: 25 10% 15%;
    /* Deep warm charcoal */

    --card: 32 30% 97%;
    --card-foreground: 25 10% 15%;

    --popover: 32 30% 98%;
    --popover-foreground: 25 10% 15%;

    --primary: 25 70% 50%;
    /* Burnt Orange/Sienna */
    --primary-foreground: 32 30% 98%;

    --secondary: 32 20% 90%;
    --secondary-foreground: 25 10% 15%;

    --muted: 32 20% 92%;
    --muted-foreground: 25 5% 45%;

    --accent: 32 20% 90%;
    --accent-foreground: 25 10% 15%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 32 30% 98%;

    --border: 32 15% 85%;
    --input: 32 15% 85%;
    --ring: 25 70% 50%;

    --sidebar-background: 32 25% 94%;
    --sidebar-foreground: 25 10% 15%;
    --sidebar-foreground-muted: 25 5% 45%;
    --sidebar-primary: 25 70% 50%;
    --sidebar-primary-foreground: 32 30% 98%;
    --sidebar-accent: 32 15% 88%;
    --sidebar-accent-foreground: 25 10% 15%;
    --sidebar-border: 32 15% 85%;
    --sidebar-ring: 25 70% 50%;

    --table-header: 32 30% 95%;
    --table-row-hover: 32 30% 92%;
    --table-row-selected: 32 30% 88%;
    --table-border: 32 15% 85%;
  }

  .claude-dark {
    --background: 30 15% 12%;
    --foreground: 30 30% 96%;

    --card: 30 15% 13%;
    --card-foreground: 30 30% 96%;

    --popover: 30 15% 13%;
    --popover-foreground: 30 30% 96%;

    --primary: 25 70% 50%;
    --primary-foreground: 30 30% 96%;

    --secondary: 30 20% 18%;
    --secondary-foreground: 30 30% 96%;

    --muted: 30 20% 18%;
    --muted-foreground: 30 10% 65%;

    --accent: 30 20% 18%;
    --accent-foreground: 30 30% 96%;

    --destructive: 0 62% 30%;
    --destructive-foreground: 30 30% 96%;

    --border: 30 20% 18%;
    --input: 30 20% 18%;
    --ring: 25 70% 50%;

    --sidebar-background: 30 15% 10%;
    --sidebar-foreground: 30 30% 96%;
    --sidebar-foreground-muted: 30 10% 65%;
    --sidebar-primary: 25 70% 50%;
    --sidebar-primary-foreground: 30 30% 96%;
    --sidebar-accent: 30 20% 18%;
    --sidebar-accent-foreground: 30 30% 96%;
    --sidebar-border: 30 20% 18%;
    --sidebar-ring: 25 70% 50%;

    --table-header: 30 15% 13%;
    --table-row-hover: 30 20% 16%;
    --table-row-selected: 30 20% 20%;
    --table-border: 30 20% 18%;
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans);
  }

  .font-mono {
    font-family: var(--font-mono);
  }

  /* Global minimalistic scrollbar */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 5px;
    border: 3px solid transparent;
    background-clip: content-box;
    transition: background-color 0.2s;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
    border: 3px solid transparent;
    background-clip: content-box;
  }

  ::-webkit-scrollbar-corner {
    background: transparent;
  }
}

/* ===== Font Pair Classes ===== */
.font-system {
  --font-sans: 'Inter', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', monospace;
}

.font-serif {
  --font-sans: 'Merriweather', Georgia, serif;
  --font-mono: 'Fira Code', monospace;
}

.font-compact {
  --font-sans: 'IBM Plex Sans', system-ui, sans-serif;
  --font-mono: 'IBM Plex Mono', monospace;
}

.font-playful {
  --font-sans: 'Nunito', system-ui, sans-serif;
  --font-mono: 'Source Code Pro', monospace;
}

/* ===== UI Density Classes ===== */
.density-comfortable {
  --spacing-unit: 1rem;
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 0.75rem;
  --spacing-lg: 1rem;
  --spacing-xl: 1.5rem;
}

.density-compact {
  --spacing-unit: 0.75rem;
  --spacing-xs: 0.125rem;
  --spacing-sm: 0.25rem;
  --spacing-md: 0.5rem;
  --spacing-lg: 0.75rem;
  --spacing-xl: 1rem;
}

.density-spacious {
  --spacing-unit: 1.25rem;
  --spacing-xs: 0.375rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.25rem;
  --spacing-xl: 2rem;
}

@utility glass {
  background: hsl(var(--popover) / 0.8);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

@utility glass-subtle {
  background: hsl(var(--popover) / 0.6);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

@layer utilities {
  .db-card {
    @apply relative overflow-hidden rounded-lg border border-border bg-card/50 p-3 cursor-pointer transition-all duration-200;
  }

  .db-card:hover {
    @apply bg-card border-muted-foreground/30;
  }

  .db-card.active {
    @apply border-primary/50 bg-primary/5;
    box-shadow: 0 0 20px -5px hsl(var(--primary) / 0.15);
  }

  .db-card.active::before {
    content: '';
    @apply absolute inset-0 rounded-lg;
    background: linear-gradient(135deg, hsl(var(--primary) / 0.1) 0%, transparent 60%);
    pointer-events: none;
  }

  .db-card-icon {
    @apply flex h-10 w-10 items-center justify-center rounded-md transition-transform duration-200;
  }

  .db-card:hover .db-card-icon {
    @apply scale-110;
  }

  .form-section {
    animation: formFadeIn 0.25s ease-out;
  }

  @keyframes formFadeIn {
    from {
      opacity: 0;
      transform: translateY(8px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .connection-status-success {
    animation: statusPulse 0.6s ease-out;
  }

  .connection-status-error {
    animation: statusShake 0.4s ease-out;
  }

  @keyframes statusPulse {
    0% {
      transform: scale(0.95);
      opacity: 0;
    }

    50% {
      transform: scale(1.02);
    }

    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  @keyframes statusShake {

    0%,
    100% {
      transform: translateX(0);
    }

    20%,
    60% {
      transform: translateX(-4px);
    }

    40%,
    80% {
      transform: translateX(4px);
    }
  }

  .input-glow:focus {
    box-shadow: 0 0 0 2px hsl(var(--primary) / 0.1), 0 0 20px -5px hsl(var(--primary) / 0.2);
  }
}